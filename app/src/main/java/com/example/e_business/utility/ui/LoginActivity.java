package com.example.e_business.utility.ui;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.util.Patterns;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ProgressBar;import android.widget.TextView;import android.widget.Toast;import com.example.e_business.MainActivity;import com.example.e_business.R;import com.google.android.gms.tasks.OnCompleteListener;import com.google.android.gms.tasks.Task;import com.google.firebase.auth.AuthResult;import com.google.firebase.auth.FirebaseAuth;import org.jetbrains.annotations.NotNull;import java.time.Instant;public class LoginActivity extends AppCompatActivity  implements  View .OnClickListener{    private EditText emailEditText_login,passwordEditText_login;    private Button login_btn;    private TextView login_textView;    private FirebaseAuth mAuth;    private ProgressBar progressBar_login;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        emailEditText_login = findViewById(R.id.email_login);        passwordEditText_login = findViewById(R.id.password_login);        login_btn = findViewById(R.id.loing_btn);        login_textView = findViewById(R.id.txtView_login);        progressBar_login = findViewById(R.id.progressBar_login);        mAuth = FirebaseAuth.getInstance();        login_btn.setOnClickListener(this);        login_textView.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.loing_btn:                userLogin();                break;            case R.id.txtView_login:                Intent intent = new Intent(getApplicationContext(),SingUp_Activity.class);                startActivity(intent);                break;        }    }    private void userLogin() {        String email = emailEditText_login.getText().toString().trim();        String password = passwordEditText_login.getText().toString().trim();        if (email.isEmpty()){            emailEditText_login.setError("Email or Gmail is Empty !");            emailEditText_login.requestFocus();            return;        }        if (!Patterns.EMAIL_ADDRESS.matcher ( email ).matches ()) {            emailEditText_login.setError("EMAIL OR G-MAIL NOT MATCH !");            emailEditText_login.requestFocus();            return;        }        if (password.isEmpty()){            passwordEditText_login.setError("Enter a Password");            passwordEditText_login.requestFocus();            return;        }        if (password.length()<5){            passwordEditText_login.setError("Minimum Six Character !");            passwordEditText_login.requestFocus();            return;        }        progressBar_login.setVisibility(View.VISIBLE);        mAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {            @Override            public void onComplete(@NonNull @NotNull Task<AuthResult> task) {                progressBar_login.setVisibility(View.GONE);                if (task.isSuccessful()){                    finish();                    Intent intent = new Intent(getApplicationContext(),MainActivity.class);                    startActivity(intent);                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);                    Toast.makeText(getApplicationContext(),"Login is successful",Toast.LENGTH_SHORT).show();                }                else {                    Toast.makeText(getApplicationContext(),"Login in Not successful",Toast.LENGTH_SHORT).show();                }            }        });    }}