package com.example.e_business.utility.ui;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.util.Log;import android.util.Patterns;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ProgressBar;import android.widget.TextView;import android.widget.Toast;import com.example.e_business.MainActivity;import com.example.e_business.R;import com.google.android.gms.tasks.OnCompleteListener;import com.google.android.gms.tasks.Task;import com.google.firebase.auth.AuthResult;import com.google.firebase.auth.FirebaseAuth;import com.google.firebase.auth.FirebaseAuthUserCollisionException;public class SingUpActivity extends AppCompatActivity implements View.OnClickListener {    private EditText nameEditText_singUp,emailEditText_singUp,passwordEditText_singUp;    private Button singUp_btn;    private TextView txtView_singUp;    private FirebaseAuth newUserAuth;    private ProgressBar progressBar_singUp;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_sing_up);        nameEditText_singUp =findViewById(R.id.name_singUp);        emailEditText_singUp = findViewById(R.id.email_singUp);        passwordEditText_singUp = findViewById(R.id.password_singUp);        singUp_btn = findViewById(R.id.SingUp_btn);        txtView_singUp = findViewById(R.id.txtView_singUp);        newUserAuth = FirebaseAuth.getInstance();        progressBar_singUp = findViewById(R.id.progressBar_singUp);        singUp_btn.setOnClickListener(this);        txtView_singUp.setOnClickListener(this);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.SingUp_btn:                userRegister();                break;            case R.id.txtView_singUp:                Intent intent = new Intent(getApplicationContext(),LoginActivity.class);                startActivity(intent);                break;        }    }    private void userRegister() {        String name = nameEditText_singUp.getText().toString().trim();        String email = emailEditText_singUp.getText().toString().trim();        String password = passwordEditText_singUp.getText().toString().trim();        if (name.isEmpty()){            nameEditText_singUp.setError("User Name is Empty !");            nameEditText_singUp.requestFocus();            return;        }        if (email.isEmpty()){            emailEditText_singUp.setError("Email or Gmail is Empty !");            emailEditText_singUp.requestFocus();            return;        }        if  (!Patterns.EMAIL_ADDRESS.matcher ( email ).matches ()){            emailEditText_singUp.setError("Email or Gmail Not Match !");            emailEditText_singUp.requestFocus();            return;        }        if (password.isEmpty()){            passwordEditText_singUp.setError("Enter a Password");            passwordEditText_singUp.requestFocus();            return;        }        if (password.length()<5){            passwordEditText_singUp.setError("Minimum Six Character !");            passwordEditText_singUp.requestFocus();            return;        }        progressBar_singUp.setVisibility(View.VISIBLE);        newUserAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {            @Override            public void onComplete(@NonNull @org.jetbrains.annotations.NotNull Task<AuthResult> task) {                progressBar_singUp.setVisibility(View.GONE);                if (task.isSuccessful()){                    finish();                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);                    startActivity(intent);                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);                    Toast.makeText(getApplicationContext(),"Register is successful", Toast.LENGTH_SHORT).show();                }                else if (task.getException () instanceof FirebaseAuthUserCollisionException){                    Toast.makeText(getApplicationContext(),"User Already SingUp",Toast.LENGTH_SHORT).show();                }                else {                    Log.w ( "errors", "createUserWithEmail:failure", task.getException () );                    Toast.makeText(getApplicationContext(),"Register is Not successful",Toast.LENGTH_SHORT);                }            }        });    }}